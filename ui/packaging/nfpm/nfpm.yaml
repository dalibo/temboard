name: temboard
arch: amd64
# Accept PEP440
version_schema: none
version: ${VERSION}
release: ${RELEASE}
depends:
  - "${PYTHONPKG}"
maintainer: Dalibo Labs <contact@dalibo.com>
description: PostgreSQL Remote Control UI
homepage: https://labs.dalibo.com/temboard/
license: PostgreSQL
contents:
  - type: tree
    src: packaging/nfpm/build/destdir/
    dst: /
  - type: tree
    src: share/
    dst: /usr/share/temboard
  - type: tree
    src: packaging/temboard.service
    dst: /usr/lib/systemd/system/temboard.service
scripts:
  postinstall: share/postinst.sh
  preremove: share/preun.sh
overrides:
  deb:
    depends:
      - ssl-cert
      - python3-cryptography
      - "python3-psycopg2 (>>2.8)"
  rpm:
    depends:
      - openssl
      - ${PYTHONPKG}-psycopg2
      - ${PYTHONPKG}-cryptography
